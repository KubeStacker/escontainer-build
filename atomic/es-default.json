{
    "comment": "Easystack Atomic host",

    "osname": "es-atomic-host",
    "ref": "es-atomic-host/7/x86_64/standard",

    "repos": ["escore-os", "escore-updates", "escore-easystack",
	      "escore-extras", "escore-atomic"],

    "selinux": true,

    "install-langs": ["en_US"],

    "install-langs-comment": "Keep this in sync with treecompose-post.sh",
    "install-langs": [
        "pt_BR",
        "fr",
        "fr_FR",
        "de",
        "de_DE",
        "it",
        "it_IT",
        "ru",
        "ru_RU",
        "es",
        "es_ES",
        "en_US",
        "zh_CN",
        "ja",
        "ja_JP",
        "ko",
        "ko_KR",
        "zh_TW",
        "as",
        "as_IN",
        "bn",
        "bn_IN",
        "gu",
        "gu_IN",
        "hi",
        "hi_IN",
        "kn",
        "kn_IN",
        "ml",
        "ml_IN",
        "mr",
        "mr_IN",
        "or",
        "or_IN",
        "pa",
        "pa_IN",
        "ta",
        "ta_IN",
        "te",
        "te_IN"
    ],


    "documentation": false,

    "generate_initramfs": false,
    "initramfs-args": ["--no-hostonly"],
    "automatic_version_prefix": "7.20171120",
    "mutate-os-release": "7", 
    "postprocess-script": "treecompose-post.sh",

    "etc-group-members": ["wheel", "docker"],

    "ignore-removed-users": ["root"],
    "ignore-removed-groups": ["root"],
    "check-passwd": { "type": "file", "filename": "passwd" },
    "check-groups": { "type": "file", "filename": "group" },

    "packages": [
      "atomic",
      "authconfig",
      "busybox",
      "cloud-init",
      "cloud-utils-growpart",
      "docker",
      "dracut-network",
      "escontos-release",
      "grub2",
      "kernel-lt",
      "lvm2",
      "nss-altfiles",
      "NetworkManager",
      "ostree-grub2",
      "passwd",
      "rpm-ostree-client",
      "sudo",
      "setools-console"],		 

    "remove-from-packages": [["filesystem", "/usr/share/backgrounds"],
                             ["escore-logos", "/usr/share/backgrounds",
                                              "/usr/share/kde4",
                                              "/usr/share/anaconda"],
			     ["systemd", "/usr/lib/tmpfiles.d/tmp.conf"],
                             ["rsyslog", "/etc/logrotate.d/syslog"],
                             ["docker", "/etc/sysconfig/docker-storage-setup",
                                        "/usr/bin/docker-storage-setup"]],

    "units": ["docker.service", "docker-storage-setup.service"],

    "default_target": "multi-user.target",
    "add-files": [["add-files/eslite.sh", "/usr/etc/profile.d/eslite.sh"],
                  ["add-files/tmp.conf", "/usr/lib/tmpfiles.d/tmp.conf"],
                  ["add-files/syslog.logrotate.conf", "/usr/etc/logrotate.d/syslog"],
		  ["add-files/swap.conf", "/usr/lib/sysctl.d/60-swap.conf"],
		  ["add-files/docker-storage-setup.cfg", "/usr/etc/sysconfig/docker-storage-setup"],
                  ["add-files/bin-storage-setup", "/usr/bin/docker-storage-setup"]]
}
